<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Add-ons教程</title>
<style type="text/css">
body p {
	font-family: Arial, Helvetica, sans-serif;
}
table {
	border-collapse: collapse;
	border-top-width: 3px;
	border-right-width: 3px;
	border-bottom-width: 3px;
	border-left-width: 3px;
}
.tdbold {
	border-bottom-width: 2px;
	border-top-width: 1px;
	border-right-width: 1px;
	border-left-width: 1px;
	border-bottom-style: solid;
}
.tbyellow {
	color: #DFDF00;
}
</style>
</head>

<body id="concept">
<div id="index">
  <p>欢迎来到附加包的世界！</p>
  <p>本教程将带你了解附加包，并一步步带你理解附加包的全部内容。</p>
  <p>本教程将不定期更新。</p>
</div>
<h5>说明：</h5>
<h5>1.本文采用CC  BY-NC-SA 3.0协议发布。</h5>
<h5>2.只有在 【】和（）内的内容为本教程注释。</h5>
<h5>3.本文禁止任何形式的转载，除非向作者提前说明。</h5>
<h5>4.文章中引用的所有内容均禁止商业用途。<br>
  <br>
5.教程作者：JUSTIN_LMC【QQ：371055087】。</h5>
<h5>6.更新信息：Update in 20200327/Version 0.0.6</h5>
<h5>7.本教程版本号遵循以下规则：当官方做出重大更新时，主版本号更新；当官方做出较小更新时，次版本号更新；每一次教程更新都将更新修订号。</h5>
<table width="85" border="1">
  <caption>
    <strong>目录</strong>
  </caption>
  <tr>
    <th width="57" scope="col"><a href="#concept" target="_self">概 念</a></th>
  </tr>
  <tr>
    <td><div align="center"><a href="#freshman" target="_self"><strong>初 学</strong></a></div></td>
  </tr>
  <tr>
    <td><div align="center"><a href="#structure" target="_self"><strong>结 构</strong></a></div></td>
  </tr>
  <tr>
    <td><div align="center"><a href="#start" target="_self"><strong>编 写</strong></a></div></td>
  </tr>
  <tr>
    <td><div align="center"><strong>尾 声</strong></div></td>
  </tr>
</table>
<div id="concept"><h2><strong>概念</strong></h2>
<p><strong>1.什么是附加包？</strong></p>
<p>wiki上是这么说的：</p>
<p>
  <textarea name="textarea" cols="60" rows="13" readonly="readonly" id="textarea">对一般人来说，附加包基本上就是一捆让你改变Minecraft世界运行规则的文件。想要身长八尺的小鸡？当然可以给你！想招募一支身着褶边短裙、听命于你的僵尸猪人大军？怪是够怪的，但当然也可以有！如果你还想了解更多有关于附加包能赋予你能力的示例，就来看看我们的附加包单独页面【网址在下方，进入时较慢，请耐心等候】。它们可真是太给力了！
——Michael Ott

附加包（Add-ons）是朝向Minecraft全版本自定义的坚实一步，它受Mojang官方支持。目前，还只有基岩版平台支持附加包，包括Windows 10、Gear VR和Fire TV。这些版本现在允许玩家更改他们世界的样貌并修改生物的行为，这些通过行为包来实现。此处提供的文档受官方支持与核实，是由Minecraft开发团队提供籍以协助社区发布的。</textarea>
</p>
<h5>[1]<a href="https://www.minecraft.net/zh-hans/addons" target="new">Mojang附加包官方页面</a></h5>
<h5>[2]如果想了解更多信息，欢迎来<a href="https://minecraft-zh.gamepedia.com/%E9%99%84%E5%8A%A0%E5%8C%85" target="new">wiki原文</a>看一看。</h5>
<p>&nbsp;</p>
<p><strong>2.附加包的类型？</strong></p>
<p>附加包，主要有以下几个类型：</p>
<table width="503" border="1">
  <tr class="tdbold">
    <td width="59"><strong>包的类型</strong></td>
    <td width="131"><strong>清单文件模块内名称</strong></td>
    <td width="287"><strong>介绍（各部分后续将会详细介绍）</strong></td>
  </tr>
  <tr>
    <td>*行为包</td>
    <td>data</td>
    <td>决定了生物、物品、方块、合成等的特性【客户端】</td>
  </tr>
  <tr>
    <td>*资源包</td>
    <td>resources</td>
    <td>决定了生物的动画、模型，粒子效果、材质等的特性【服务端】</td>
  </tr>
  <tr>
    <td>脚本包</td>
    <td>client_data</td>
    <td><em>(ONLY Windows 10)</em>决定了整个世界的基本运作规则</td>
  </tr>
  <tr>
    <td>皮肤包</td>
    <td>skin_pack</td>
    <td>决定了玩家的皮肤</td>
  </tr>
  <tr>
    <td height="23">世界模板包</td>
    <td>world_template</td>
    <td>决定了世界的模板</td>
  </tr>
</table>
<h5>[1]接口包(interface)在网络上没有资料，暂空。</h5>
<p>以上<em>每一个类型的包</em>或者<em>多个不同类型的包整合在一起</em>统称为附加包。</p>
<p>【严格来说，<strong>只有</strong>行为包、资源包、脚本包整合在一起才能被叫做附加包——这也是本教程中定义的附加包与官方定义的附加包的区别】</p>
<p>【混搭包：常包括资源包、皮肤包、世界模板包】【其实个人觉得这个教程应该被叫做“捆绑包教程”才比较好】</p>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div id="freshman"><h2><strong>初学</strong></h2>
<p><strong>1.附加包需要的基础？</strong></p>
<p>你只需要掌握这一个：JSON。</p>
<p>【WIndows 10玩家请注意：如果你愿意研究Scripting Engine（SE，脚本引擎），那么你还需要了解Javascript；不过脚本引擎有要被molang取代的趋势，这在后面会讲解】</p>
<p>百度百科上是这么说的：</p>
<p><textarea name="textarea2" cols="60" rows="5" readonly="readonly" id="textarea2">JSON（JavaScriptObject Notation，JS 对象简谱）是一种轻量级的数据交换格式。它基于ECMAScript(欧洲计算机协会制定的js规范)的一个子集，采用完全独立于编程语言的文本格式来存储和表示数据。简洁和清晰的层次结构使得 JSON 成为理想的数据交换语言。 易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。 </textarea>
</p>
<p>简单来说，就是一种代码格式，不是专业人士就不用深入研究了。</p>
<p>关于JSON的格式，我建议各位看看这个大佬写的<a href="https://www.mcbbs.net/thread-829760-1-1.html" target="new">帖子</a>。只需要看看“准备”部分就够了——别的内容我会穿插在教程里。</p>
<p>【亦或者是<a href="https://www.json.org/json-zh.html">JSON的官方网站</a>也可】</p>
<p>【有兴趣的朋友可以了解一下<a href="https://github.com/midnightfreddie/McpeTool" target="new">存档构造</a>（虽然现在可能看不懂）】</p>
<p>&nbsp;</p>
<p><strong>2.附加包研究起来会很难吗？</strong></p>
<p>SPGoding（后文引用时缩写为SPG）曾抱怨Add-ons研究的人太少了——就算在MCBBS，发布这种帖子的人也基本没有几个，可想而知附加包的门槛还是很高的。【本人曾经在MCBBS上搜索与附加包相关的内容，差不多就那么零星的几个是有用的】基本上，要研究附加包都得从教程（最起码是简单的介绍）开始【这里讲个我自己的小故事，我一开始研究的时候一个教程也没看，然后就根本看不懂官方包里的示例……】；没有教程的研究是非常困难的。</p>
<p>所以，请各位做好心理准备——如果你想研究附加包，你会非常孤独的。（这里多说几句，在掌握基本格式后，附加包的学习就基本是下载资源-拆包-仿制-再下载资源，因此在教程结束之后，附加包练习将会不断地更新新的内容来满足各位对附加包的认真态度（当然更新频率会慢那么一些））</p>
<p><strong>3.附加包研究时需要的工具？</strong></p>
<p>经过多方资料的查阅，本人总结出以下工具：【斜体为文本编辑器，黄色为文件管理器】</p>
<table width="520" border="1">
  <tr>
    <td width="64"><strong>Windows 10</strong></td>
    <td width="109"><em>VSCode</em>或<em>VSCommunity</em></td>
    <td width="91"><em>Notepad++</em></td>
    <td width="95"><em>Eclipse</em></td>
    <td width="123"><span class="tbyellow">Windows自带</span>（请自备压缩软件）</td>
  </tr>
  <tr>
    <td><strong>Android</strong></td>
    <td class="tbyellow">ES文件管理器</td>
    <td class="tbyellow"><em>MT管理器</em></td>
    <td colspan="2"><em>QuickEdit</em></td>
  </tr>
  <tr>
    <td><strong>IOS</strong></td>
    <td><em>Textcode Viewer</em></td>
    <td><p>（越狱）<em>iFile</em></p></td>
    <td>（越狱）<em>Filza</em></td>
    <td class="tbyellow">FileMaster</td>
  </tr>
</table>
<p>【IDE：集成开发环境】【画图软件将在后续教程中推荐】</p>
<p><strong>4.客户端和服务端的区别？</strong></p>
<p>这个问题尽管在网络上也有解答，但我还是在这里给出形象的解释。</p>
<p>不妨假设A去B店吃东西，A对B店的前台说：“来碗蛋炒饭！”前台将“做一碗蛋炒饭”的信息发送到厨房里的显示屏上。不一会，服务员C端着饭从厨房里出来，把饭交给了A。</p>
<p>在这个例子里，<em>A</em>就是<strong>客户</strong>，<em>B店前台</em>就是<u>客户端</u>，<em>前台发送A的需求的过程</em>就是<u>客户端把信息上传到服务端的过程</u>，<em>饭交付到A手里的过程</em>就是<u>服务端把信息反馈到客户端的过程</u>，最终<em>A得到的饭</em>就是<u>反馈到服务端的信息</u>。【此外，<em>不一会</em>就是<u>服务端处理信息的速度</u>。如果有许多个客户，厨房（服务端）也就处理不过来啦】</p>
<p><strong>5.网易版有Add-ons吗？</strong></p>
<p>有。但是，如果你想开发Add-ons，必须先加入开发者计划。那么有人可能要问了，既然支持Add-ons，为啥我好像没有看到很多优质作品呢？其实，“天启之境：混沌”就是这样的一个例子。还有一些大大小小的“组件”，在资源中心里能找到。【其实主要问题还是网易的开发者计划的不合理，在这里本人不想多加讨论】</p>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div id="structure"><h2><strong>结构</strong></h2>
<p><strong>行为包</strong></p>
<p>
  <textarea name="textarea3" cols="60" rows="18" readonly="readonly" id="textarea3">(名称)
-(行为包里可能有animation_controllers和animations，这一点会在之后的教程种体现）
-biomes //生物群系主定义
-blocks //方块主定义
-entitles //实体特性定义（请与资源包里的实体外观定义相区分）
-feature_rules //特性规则定义
-features //特性定义
-functions //（命令）函数定义
-items //物品特性定义
-loot_tables //掉落物定义
-recipes //合成表定义
-spawn_rules //实体生成规则定义
-trading //交易定义
-contents.json //内容文件
-manifest.json //清单文件
-pack_icon.png //附加包图标</textarea>
</p>
<p><strong>资源包</strong></p>
<p>
  <textarea name="textarea4" cols="60" rows="25" readonly="readonly" id="textarea4">（名称）
-animation_controllers //动画触发条件定义
-animations //动画定义
-entity //实体外观定义（请与行为包里的实体特性定义相区分）
-font //字体定义，不建议修改
-items //物品外观定义
-materials //光照算法及纹理定义
-models //实体几何及基本图元定义
-particles //颗粒定义
-render_controllers //渲染定义
-sounds //声音定义
-texts //语言定义
-textures //材质定义
-ui //内置UI定义
-biomes_client.json //生物群系与水相关定义
-blocks.json //方块材质总定义文件
-bug_pack_icon.png //出错包图标，无必要修改
-contents.json //内容文件
-items_offsets_client.json //VR偏移定义
-loading_messages.json //游戏加载定义文件
-manifest.json //清单文件
-pack_icon.png //附加包运动
-sounds.json //声音定义文件
-splashes.json //闪烁标语定义，不建议修改</textarea>
</p>
<p><strong>脚本包</strong></p>
<p>除了行为包的结构，另加一个scripts文件夹（内含client和server文件夹，两个文件夹内各有.js文件）</p>
<p><strong>皮肤包</strong></p>
<p>
  <textarea name="textarea5" cols="60" rows="6" readonly="readonly" id="textarea5">（名称）
-geometry.json //几何定义
-manifest.json //清单文件
-skins.json //皮肤定义
-(名称）.png //皮肤展开图</textarea>
</p>
<p><strong>世界模板包</strong></p>
<p>
  <textarea name="textarea6" cols="60" rows="10" readonly="readonly" id="textarea6">（名称）
db //Mojang的游戏数据储存
contents.json //内容文件
level.dat //世界规则储存文件
level.dat_old //旧版本世界规则储存文件
levelname.txt //世界名
manifest.json //清单文件
world_icon.jpeg //世界&世界模板包图标
（...） //另外一些就是世界内应用的附加包</textarea>
</p>
<p>实际上，世界模板包只需要将你的世界打包出来，加上清单文件即可。</p></div>
<p>&nbsp;</p>
<div id="start"><h2><strong>编写</strong></h2>
<p>接下来，进入本教程的正题！在正式开始之前，本人想多说几句。因为本人技术和时间有限，难免会出现一些纰漏或者讲解不到位之处，欢迎各位来和我讨论。</p>
<table width="200" border="1">
  <caption>
    <strong>目录 </strong>
  </caption>
  <tr>
    <td colspan="2"><a href="#manifest" target="_self"><em>清单文件</em></a></td>
  </tr>
  <tr>
    <td colspan="2"><a href="#contents" target="_self"><em>内容文件</em></a></td>
  </tr>
  <tr>
    <td colspan="2"><a href="#behavior" target="_self"><strong>行为包</strong></a></td>
  </tr>
  <tr>
    <td width="90"><a href="#manifest" target="_self"></a></td>
    <td width="90">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2"><strong>资源包</strong></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2"><strong>脚本包</strong></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2"><strong>皮肤包</strong></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2"><strong>世界模板包</strong></td>
  </tr>
  <tr>
    <td colspan="2">&nbsp;</td>
  </tr>
</table>
<h3><a name="manifest" id="manifest"></a><strong>清单文件</strong></h3>
<p>清单文件（manifest.json）是整个包里<em>最为重要</em>的一个文件，它用于让游戏辨识这个包的基本信息。<em>游戏在读取包时第一个就读取该文件。</em>因此，请<em>一定</em>注意你的清单文件是否有语法错误。【自然，每个包都必须有这个文件】</p>
<p>下面是一个完整的包文件示例：</p>
<p>
  <textarea name="textarea7" cols=60 rows=70 readonly="readonly" id="textarea7">//在开始之前强调一下，请一定要掌握JSON文件的规范！接下来将直接使用一部分专业术语而不加以解释。另外，逗号特别容易被遗漏，各位可以着重关注逗号的使用。
//正经的JSON并不支持注释，但MC里是支持注释的。
/*包括跨行注释
MC也支持*/
//编写时，最好有缩进和换行的习惯，不然阅读会很困难。
{//每一个JSON必须以大括号开始，以大括号结束。
  "capabilities": [//可选，能力，用于确定包能修改的内容。
    "chemistry",//如果你的包里修改了与化学（教育版）相关的内容（材质、实体、合成表等一切），此项必填。
    "experimental_custom_ui"//如果你的包里包含自定义UI（注意，这里的自定义UI是采用html真正自定义的UI，而并不是游戏本身的UI，这在后文会提及），此项必填。
  ],
  "dependencies": [//可选，必备依赖项（即你的包依赖的包），用于确定加载你的包时必须同时加载的包。一般用途为行为包依赖材质包。当你加载你的包时，你的包依赖的包也会自动被加入游戏；如果该被依赖的包不存在，游戏会弹出错误信息。
    {
      "uuid": (String),//必填，通用唯一识别码，不允许重复，和人的身份证号很相似，作者建议去网站（下方）上生成一个会比较好。
      "version": [ a, b, c ]//必填，版本号，格式可参考下方链接。
    }
  ],
  "format_version": (Number),//必填，清单文件版本，1或2，在对应的教程里将会说明。
  "header": {//必填，头，包的基本信息。
    "base_game_version":[ d, e, f ],//世界模板包必填，限制游戏最低版本以使模板版本与游戏版本相匹配。填入模板的游戏版本如[ 1, 14, 2 ]，忽略如1.16.0.51后面的51。
    "description": (String),//一串对于包的描述，可在语言文件中定义（这在后文会提及）。
    "lock_template_options": (Boolean),//世界模板包选填，是否锁定世界参数（如是否死亡不掉落等等）设置。
    "min_engine_version": [ d, e, f ],//行为包、资源包必填，限制游戏最低版本以使包能在世界里正常运行。建议填入当前最新版本如[ 1, 16, 0 ]。注意世界模板包和行为包、资源包的限定最低版本的方式不一样（但是世界模板包里用min_engine_version貌似也没有问题）。
    "name": (String),//必填，包的名称，可在语言文件中定义。
    "uuid": (String),//必填，同前。
    "version": [ a, b, c ]//必填，版本号，格式可参考下方链接。
  },
  "metadata": {//选填，作者信息。
    "authors": (Array),//选填，本包的作者（们），格式如["Steve","ALex"]。
    "license": (String),//选填，本包所应用的法律条文。
    "url": (String)//选填，你的主页地址。
  }
  "modules": [//(Array)必填，包里所含模块信息。
    {//可以有多个模块，注意逗号的使用即可。但一般来说，行为包、资源包、世界模板包、皮肤包都是分开的，然后利用必备依赖项进行关联。
      "description": (String),//必填，没什么用，按照官方的说法是提醒你自己这个模块是拿来干嘛的。
      "type": (String),//必填，模块类型（没错！就是我之前在表格里列出的清单文件模块名称），一般来说只有表格里列出的5种。
      "uuid": (String),//必填，同前。不允许与本包头里面的和别的包的清单文件里的uuid重复（但只要你是随机生成的，重复概率几乎为0）。
      "version": [ a, b, c ]//必填，版本号，格式可参考下方链接。
    }
  ]
}//注意结束的大括号。</textarea>
</p>
<p>语义化版本（版本号格式）链接：<a href="https://semver.org/lang/zh-CN/" target="new">https://semver.org/lang/zh-CN/</a></p>
<p>uuid生成器：<a href="https://www.uuidgenerator.net/" target="new">https://www.uuidgenerator.net/</a></p>
<p><a href="#start" target="_self">回到编写目录</a></p>
<p>&nbsp;</p>
<h3><a name="contents" id="contents"></a>内容文件</h3>
<p>内容文件（contents.json）是整个包里<em>仅次于清单文件重要</em>的文件。它真正的相当于一个包的目录。它的格式很简单（其实也没这么简单）：</p>
<p>
  <textarea name="textarea8" cols="60" rows="12" readonly="readonly" id="textarea8">{
  "content": [
    {
      "path":"a.json"//根目录处的文件直接写名字加后缀名
    },
    {
      "path":"textures/b.png"//在根目录里的文件需要如下格式：a/b/.../name.后缀名
    }//...等等
  ]
}</textarea>
</p>
<p>一般来说，这个文件不建立也没有太大问题——如果不建立，游戏会调用原版包里的目录文件，而你的包里的文件依旧会被识别。但是，对于一个文件很多的包来说，建立这样一个内容文件就是噩梦——如果不用程序自己去处理，头发可能都要掉光了。所以各位看自己的喜好要不要建立内容文件了。</p>
<p><a href="#start" target="_self">回到编写目录</a></p>
<p>&nbsp;</p>
<h3><strong><a name="behavior" id="behavior"></a>行为包</strong></h3>
<p>&nbsp;</p>
<p><a href="#start" target="_self">回到编写目录</a></p>
<p>&nbsp;</p>
</div>
</body>
</html>
